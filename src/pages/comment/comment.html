<ion-content padding>
  <div>  
    <ion-segment [(ngModel)]="function">
      <ion-icon name="arrow-back" (click)="dismiss()"></ion-icon>
      <ion-segment-button value="favourite">
        Favourite
      </ion-segment-button>
      <ion-segment-button value="comment">
        Comment
      </ion-segment-button>
      <ion-segment-button value="rating">
        Rating
      </ion-segment-button>
    </ion-segment>
  </div>
  <div [ngSwitch]="function">
    <ion-list *ngSwitchCase="'favourite'">
      <ion-item>
        <ion-icon name="thumbs-up" (click)="createFavourite()" [color]="like_color"></ion-icon>
      </ion-item>
      <ion-item *ngFor="let like of like_list">
        <ion-icon name="contact"></ion-icon>
        <span>{{like.username}}</span>
      </ion-item>
    </ion-list>
    <div *ngSwitchCase="'comment'">
      <ion-card *ngFor="let comment of comment_list">
        <ion-card-header class="comment-username">
          <ion-icon name="contact"></ion-icon>
          {{comment.username}}
        </ion-card-header>
        <ion-card-content>
          {{comment.comment}}
        </ion-card-content>
        <ion-note class="comment-createdTime">
          {{comment.time_added | amTimeAgo}}
        </ion-note>
        <ion-icon name="trash" 
        class="comment-trash" 
        (click)="deleteComment(comment.comment_id)" 
        *ngIf="comment.user_id==user_id ? true:false">
        </ion-icon>
      </ion-card>
      <ion-card>
        <ion-card-header>
          Comment
        </ion-card-header>
        <ion-card-content>
          <ion-textarea placeholder="Enter your comment" class="comment-input" name="comment" [(ngModel)]="comment">
          </ion-textarea>
          <button class="comment-send" (click)="createComment()">Send</button>
        </ion-card-content>
      </ion-card>
    </div>
    <ion-list *ngSwitchCase="'rating'">
      <ion-item>
        rating
      </ion-item>
    </ion-list>
  </div>
</ion-content>
